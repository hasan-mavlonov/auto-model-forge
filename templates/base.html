{# templates/base.html #}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Auto Model Forge{% endblock %}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  {# Простейшие стили, потом легко заменить на Tailwind/Bootstrap #}
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #fafafa;
      color: #111827;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    header {
      background: #111827;
      color: #f9fafb;
      padding: 0.75rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .brand {
      font-weight: 700;
      font-size: 1.1rem;
      letter-spacing: 0.03em;
    }

    .nav-links {
      display: flex;
      gap: 1rem;
      align-items: center;
      font-size: 0.95rem;
    }

    .nav-links a {
      opacity: 0.85;
    }

    .nav-links a:hover {
      opacity: 1;
    }

    .nav-cta {
      padding: 0.35rem 0.8rem;
      border-radius: 999px;
      background: #f97316;
      color: #111827;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .nav-cta:hover {
      background: #fb923c;
    }

    .user-chip {
      padding: 0.25rem 0.7rem;
      border-radius: 999px;
      background: rgba(249, 250, 251, 0.08);
      font-size: 0.85rem;
    }

    main {
      max-width: 960px;
      margin: 2rem auto;
      padding: 0 1rem 3rem;
    }

    .messages {
      margin-bottom: 1rem;
    }

    .message {
      padding: 0.75rem 1rem;
      border-radius: 0.45rem;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }

    .message.info {
      background: #e0f2fe;
      color: #0c4a6e;
    }

    .message.success {
      background: #dcfce7;
      color: #166534;
    }

    .message.warning {
      background: #fef9c3;
      color: #854d0e;
    }

    .message.error {
      background: #fee2e2;
      color: #991b1b;
    }

    footer {
      border-top: 1px solid #e5e7eb;
      padding: 1rem 1.5rem;
      font-size: 0.8rem;
      color: #6b7280;
      text-align: center;
    }
  </style>

  {% block extra_head %}{% endblock %}
</head>
<body>
  <header>
    <div class="brand">
      <a href="{% url 'home' %}">Auto Model Forge</a>
    </div>

    <nav class="nav-links">
      <a href="{% url 'training:job_create' %}">Train your model</a>

      {% if user.is_authenticated %}
        <span class="user-chip">
          {{ user.username }}
        </span>
        <a href="{% url 'accounts:logout' %}">Logout</a>
      {% else %}
        <a href="{% url 'accounts:login' %}">Login</a>
        <a href="{% url 'accounts:register' %}" class="nav-cta">Get started</a>
      {% endif %}
    </nav>
  </header>

  <main>
    {# Django messages #}
    {% if messages %}
      <div class="messages">
        {% for message in messages %}
          <div class="message {{ message.tags }}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}

    {% block content %}{% endblock %}
  </main>

  <footer>
    © {{ now|date:"Y" }} Auto Model Forge. All rights reserved.
  </footer>

  {% block extra_js %}{% endblock %}
</body>
</html>
